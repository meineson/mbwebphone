<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="./mbweb.css" />
  <title>MBWebPhone</title>
</head>

<body>
  <iframe src="http://localhost:3000/" width="100%" height="600px" 
    allow="camera; microphone"
    style="border: none;overflow: hidden;"></iframe>  

  <script>
    // Create an empty context menu
    var menu = new nw.Menu();

    // Add some items with label
    menu.append(new nw.MenuItem({
      label: '关于',
      click: function(){
        alert('mbwebphone by mbstudio.cn.');
      }
    }));
    menu.append(new nw.MenuItem({ label: '账号设备(todo)' }));
    menu.append(new nw.MenuItem({ type: '设备参数(todo)' }));
    menu.append(new nw.MenuItem({ label: '退出(todo)' }));

    // Hooks the "contextmenu" event
    document.body.addEventListener('contextmenu', function(ev) {
      // Prevent showing default context menu
      ev.preventDefault();
      // Popup the native context menu at place you click
      menu.popup(ev.x, ev.y);

      return false;
    }, false);

    nw.Window.get().showDevTools();  
  </script>   
</body>
</html>